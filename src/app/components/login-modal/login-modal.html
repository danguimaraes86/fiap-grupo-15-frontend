<div class="mat-bg-surface">
  <div class="d-flex justify-content-center align-items-center mat-text-primary gap-3 p-3">
    <mat-icon class="h-auto w-auto fs-1">login</mat-icon>
    <h1 class="m-0">Login</h1>
  </div>

  <mat-dialog-content>
    <form [formGroup]="loginForm" class="d-flex flex-column gap-3">
      <mat-form-field appearance="outline">
        <mat-label>E-mail</mat-label>
        <input matInput type="email" placeholder="Digite seu e-mail" formControlName="email" />
        <mat-icon matPrefix>email</mat-icon>
        @if (loginForm.get('email')?.hasError('required') && loginForm.get('email')?.touched) {
        <mat-error>E-mail é obrigatório</mat-error>
        } @if (loginForm.get('email')?.hasError('email')) {
        <mat-error>E-mail inválido</mat-error>
        }
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Senha</mat-label>
        <input
          matInput
          [type]="hidePassword ? 'password' : 'text'"
          placeholder="Digite sua senha"
          formControlName="password"
        />
        <mat-icon matPrefix>lock</mat-icon>
        <button matIconButton matSuffix (click)="togglePasswordVisibility()" type="button">
          <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
        @if (loginForm.get('password')?.hasError('required') && loginForm.get('password')?.touched)
        {
        <mat-error>Senha é obrigatória</mat-error>
        } @if (loginForm.get('password')?.hasError('minlength')) {
        <mat-error>Senha deve ter no mínimo 6 caracteres</mat-error>
        }
      </mat-form-field>
    </form>
  </mat-dialog-content>

  <mat-dialog-actions align="center" class="p-3 gap-2">
    <button matButton="" matDialogClose>Cancelar</button>
    <button matButton="filled" (click)="onSubmit()" [disabled]="!loginForm.valid">Login</button>
  </mat-dialog-actions>
</div>
